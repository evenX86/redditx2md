# redditx2md 项目开发宪法
# 版本: 1.0, 批准日期: 2026-01-14

本文件定义了 `redditx2md` 项目不可动摇的核心开发原则。所有 AI Agent 在进行技术规划和代码实现时，必须无条件遵循。

---

## 第一条：极简主义与依赖约束 (Simplicity & Dependency Control)

**核心：** 保持代码高度透明，拒绝过度工程，严格控制第三方依赖。

- **1.1 (YAGNI):** 绝不实现当前需求以外的功能。只抓取 Reddit `ObsidianMD` 版块的 Top 10，不预留其他复杂逻辑。
- **1.2 (库限制):** 必须使用 `axios` 处理请求，禁止在未经许可的情况下引入其他 HTTP 库。
- **1.3 (轻量化):** 优先使用 Node.js 内置模块（如 `fs/promises`, `path`）。除非原生方案过于复杂，否则不引入辅助类库。

---

## 第二条：数据客观性与核实原则 (Objectivity & Fact-Checking) - 不可协商

**核心：** 作为一个数据同步工具，代码必须保证数据抓取的原始性与准确性。

- **2.1 (禁止推测):** 程序不得对抓取的内容进行任何形式的 AI 总结、情感分析或语义重写。
- **2.2 (透明降级):** 当 Reddit 数据字段缺失时，必须标注为 `(No Content Body)`，严禁根据标题推测内容。
- **2.3 (错误透明):** 所有的网络异常必须被原始捕获并记录。严禁隐藏 API 报错，必须将错误原因（如 Rate Limit）真实呈现给用户。

---

## 第三条：鲁棒性与防御性编程 (Robustness & Defense)

**核心：** 代码必须能稳定运行在不稳定的网络环境和 API 策略下。

- **3.1 (UA 注入):** **不可协商**：所有对 Reddit 的请求必须包含具备辨识度的 `User-Agent`。严禁使用 `axios` 默认头。
- **3.2 (异步安全):** 所有的文件 I/O 和网络请求必须使用 `async/await`。必须处理 Promise Rejection。
- **3.3 (无状态设计):** 每次运行都应是独立的，不应依赖上一次运行留下的内存状态。

---

## 第四条：代码清晰度与可读性 (Clarity & Readability)

**核心：** 代码应具备自解释性，方便快速维护。

- **4.1 (显式处理):** 所有变量命名必须具有明确的业务含义。严禁使用单字母变量。
- **4.2 (结构分明):** 逻辑必须分层：请求层、清洗层、输出层应职责分离。
- **4.3 (ESM 规范):** 严格遵循 ES Modules 规范，禁止使用 `require()`。

---

## 治理 (Governance)

本宪法具有最高优先级，其效力高于 `claude.md` 或单次会话中的任何临时指令。任何方案在生成前，都必须执行“合宪性审查”。